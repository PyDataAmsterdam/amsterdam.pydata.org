{"version":3,"file":"rank-route.js","names":["paramRe","SEGMENT_POINTS","STATIC_POINTS","DYNAMIC_POINTS","SPLAT_PENALTY","ROOT_POINTS","isRootSegment","segment","isDynamic","test","isSplat","segmentize","uri","replace","split","rankRoute","path","reduce","score"],"sources":["../../src/utils/rank-route.ts"],"sourcesContent":["// path ranking algorithm copied (with small adjustments) from `@reach/router` (internal util, not exported from the package)\n// https://github.com/reach/router/blob/28a79e7fc3a3487cb3304210dc3501efb8a50eba/src/lib/utils.js#L216-L254\nconst paramRe = /^:(.+)/\n\nconst SEGMENT_POINTS = 4\nconst STATIC_POINTS = 3\nconst DYNAMIC_POINTS = 2\nconst SPLAT_PENALTY = 1\nconst ROOT_POINTS = 1\n\nconst isRootSegment = (segment: string): boolean => segment === ``\nconst isDynamic = (segment: string): boolean => paramRe.test(segment)\nconst isSplat = (segment: string): boolean => segment === `*`\n\nconst segmentize = (uri: string): Array<string> =>\n  uri\n    // strip starting/ending slashes\n    .replace(/(^\\/+|\\/+$)/g, ``)\n    .split(`/`)\n\nexport const rankRoute = (path: string): number =>\n  segmentize(path).reduce((score, segment) => {\n    score += SEGMENT_POINTS\n    if (isRootSegment(segment)) score += ROOT_POINTS\n    else if (isDynamic(segment)) score += DYNAMIC_POINTS\n    else if (isSplat(segment)) score -= SEGMENT_POINTS + SPLAT_PENALTY\n    else score += STATIC_POINTS\n    return score\n  }, 0)\n// end of copied `@reach/router` internals\n"],"mappings":";;;;AAAA;AACA;AACA,MAAMA,OAAO,GAAG,QAAQ;AAExB,MAAMC,cAAc,GAAG,CAAC;AACxB,MAAMC,aAAa,GAAG,CAAC;AACvB,MAAMC,cAAc,GAAG,CAAC;AACxB,MAAMC,aAAa,GAAG,CAAC;AACvB,MAAMC,WAAW,GAAG,CAAC;AAErB,MAAMC,aAAa,GAAIC,OAAe,IAAcA,OAAO,KAAM,EAAC;AAClE,MAAMC,SAAS,GAAID,OAAe,IAAcP,OAAO,CAACS,IAAI,CAACF,OAAO,CAAC;AACrE,MAAMG,OAAO,GAAIH,OAAe,IAAcA,OAAO,KAAM,GAAE;AAE7D,MAAMI,UAAU,GAAIC,GAAW,IAC7BA;AACE;AAAA,CACCC,OAAO,CAAC,cAAc,EAAG,EAAC,CAAC,CAC3BC,KAAK,CAAE,GAAE,CAAC;AAER,MAAMC,SAAS,GAAIC,IAAY,IACpCL,UAAU,CAACK,IAAI,CAAC,CAACC,MAAM,CAAC,CAACC,KAAK,EAAEX,OAAO,KAAK;EAC1CW,KAAK,IAAIjB,cAAc;EACvB,IAAIK,aAAa,CAACC,OAAO,CAAC,EAAEW,KAAK,IAAIb,WAAW,MAC3C,IAAIG,SAAS,CAACD,OAAO,CAAC,EAAEW,KAAK,IAAIf,cAAc,MAC/C,IAAIO,OAAO,CAACH,OAAO,CAAC,EAAEW,KAAK,IAAIjB,cAAc,GAAGG,aAAa,MAC7Dc,KAAK,IAAIhB,aAAa;EAC3B,OAAOgB,KAAK;AACd,CAAC,EAAE,CAAC,CAAC;AACP;AAAA"}