{"version":3,"file":"program.js","names":["initialState","directory","status","_","useYarn","open","openTracingConfigFile","port","proxyPort","host","sitePackageJson","extensions","browserslist","report","reporter","disablePlugins","programReducer","state","action","type","payload","pluginToDisable","pluginsToDisable","disabledPlugin","find","entry","name","reasons","push","reason"],"sources":["../../../src/redux/reducers/program.ts"],"sourcesContent":["import { IStateProgram, ActionsUnion } from \"../types\"\nimport { reporter } from \"gatsby-cli/lib/reporter/reporter\"\n\nconst initialState: IStateProgram = {\n  directory: `/`,\n  status: `BOOTSTRAPPING`,\n  _: `develop`,\n  useYarn: false,\n  open: false,\n  openTracingConfigFile: ``,\n  port: 80,\n  proxyPort: 80,\n  host: `localhost`,\n  sitePackageJson: {},\n  extensions: [],\n  browserslist: [],\n  report: reporter,\n  disablePlugins: [],\n}\n\nexport const programReducer = (\n  state: IStateProgram = initialState,\n  action: ActionsUnion\n): IStateProgram => {\n  switch (action.type) {\n    case `SET_PROGRAM`:\n      return {\n        ...state,\n        ...action.payload,\n      }\n\n    case `SET_PROGRAM_EXTENSIONS`:\n      return {\n        ...state,\n        extensions: action.payload,\n      }\n\n    case `SET_PROGRAM_STATUS`:\n      return {\n        ...state,\n        status: `BOOTSTRAP_FINISHED`,\n      }\n\n    case `DISABLE_PLUGINS_BY_NAME`: {\n      if (!state.disablePlugins) {\n        state.disablePlugins = []\n      }\n      for (const pluginToDisable of action.payload.pluginsToDisable) {\n        let disabledPlugin = state.disablePlugins.find(\n          entry => entry.name === pluginToDisable\n        )\n        if (!disabledPlugin) {\n          disabledPlugin = {\n            name: pluginToDisable,\n            reasons: [],\n          }\n          state.disablePlugins.push(disabledPlugin)\n        }\n        disabledPlugin.reasons.push(action.payload.reason)\n      }\n\n      return state\n    }\n\n    default:\n      return state\n  }\n}\n"],"mappings":";;;;AACA;AAEA,MAAMA,YAA2B,GAAG;EAClCC,SAAS,EAAG,GAAE;EACdC,MAAM,EAAG,eAAc;EACvBC,CAAC,EAAG,SAAQ;EACZC,OAAO,EAAE,KAAK;EACdC,IAAI,EAAE,KAAK;EACXC,qBAAqB,EAAG,EAAC;EACzBC,IAAI,EAAE,EAAE;EACRC,SAAS,EAAE,EAAE;EACbC,IAAI,EAAG,WAAU;EACjBC,eAAe,EAAE,CAAC,CAAC;EACnBC,UAAU,EAAE,EAAE;EACdC,YAAY,EAAE,EAAE;EAChBC,MAAM,EAAEC,kBAAQ;EAChBC,cAAc,EAAE;AAClB,CAAC;AAEM,MAAMC,cAAc,GAAG,CAC5BC,KAAoB,GAAGjB,YAAY,EACnCkB,MAAoB,KACF;EAClB,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAM,aAAY;MAChB,OAAO;QACL,GAAGF,KAAK;QACR,GAAGC,MAAM,CAACE;MACZ,CAAC;IAEH,KAAM,wBAAuB;MAC3B,OAAO;QACL,GAAGH,KAAK;QACRN,UAAU,EAAEO,MAAM,CAACE;MACrB,CAAC;IAEH,KAAM,oBAAmB;MACvB,OAAO;QACL,GAAGH,KAAK;QACRf,MAAM,EAAG;MACX,CAAC;IAEH,KAAM,yBAAwB;MAAE;QAC9B,IAAI,CAACe,KAAK,CAACF,cAAc,EAAE;UACzBE,KAAK,CAACF,cAAc,GAAG,EAAE;QAC3B;QACA,KAAK,MAAMM,eAAe,IAAIH,MAAM,CAACE,OAAO,CAACE,gBAAgB,EAAE;UAC7D,IAAIC,cAAc,GAAGN,KAAK,CAACF,cAAc,CAACS,IAAI,CAC5CC,KAAK,IAAIA,KAAK,CAACC,IAAI,KAAKL,eAAe,CACxC;UACD,IAAI,CAACE,cAAc,EAAE;YACnBA,cAAc,GAAG;cACfG,IAAI,EAAEL,eAAe;cACrBM,OAAO,EAAE;YACX,CAAC;YACDV,KAAK,CAACF,cAAc,CAACa,IAAI,CAACL,cAAc,CAAC;UAC3C;UACAA,cAAc,CAACI,OAAO,CAACC,IAAI,CAACV,MAAM,CAACE,OAAO,CAACS,MAAM,CAAC;QACpD;QAEA,OAAOZ,KAAK;MACd;IAEA;MACE,OAAOA,KAAK;EAAA;AAElB,CAAC;AAAA"}